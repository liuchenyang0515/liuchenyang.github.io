(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{403:function(t,a,s){t.exports=s.p+"assets/img/dom_render.89b6070a.png"},404:function(t,a,s){t.exports=s.p+"assets/img/generate_render_tree.94866059.png"},405:function(t,a){t.exports="data:image/png;base64,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"},406:function(t,a,s){t.exports=s.p+"assets/img/example_demo_animation.8b6d696e.png"},407:function(t,a){t.exports="data:image/png;base64,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"},434:function(t,a,s){"use strict";s.r(a);var n=s(44),e=Object(n.a)({},(function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"你真的了解回流和重绘吗"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#你真的了解回流和重绘吗"}},[t._v("#")]),t._v(" 你真的了解回流和重绘吗")]),t._v(" "),n("blockquote",[n("p",[t._v("作者：chenjigeng")])]),t._v(" "),n("p",[t._v("回流和重绘可以说是每一个web开发者都经常听到的两个词语，我也不例外，可是我之前一直不是很清楚这两步具体做了什么事情。最近由于部门内部要做分享，所以对其进行了一些研究，看了一些博客和书籍，整理了一些内容并且结合一些例子，写了这篇文章，希望可以帮助到大家。")]),t._v(" "),n("h2",{attrs:{id:"浏览器的渲染过程"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#浏览器的渲染过程"}},[t._v("#")]),t._v(" 浏览器的渲染过程")]),t._v(" "),n("p",[t._v("本文先从浏览器的渲染过程来从头到尾的讲解一下回流重绘，如果大家想直接看如何减少回流和重绘，可以跳到后面。（这个渲染过程来自"),n("a",{attrs:{href:"https://developers.google.com/web/fundamentals/performance/critical-rendering-path/render-tree-construction?hl=zh-cn",target:"_blank",rel:"noopener noreferrer"}},[t._v("MDN"),n("OutboundLink")],1),t._v("）")]),t._v(" "),n("p",[n("img",{attrs:{src:s(403),alt:"DOM渲染"}})]),t._v(" "),n("p",[t._v("从上面这个图上，我们可以看到，浏览器渲染过程如下：")]),t._v(" "),n("ol",[n("li",[t._v("解析HTML，生成DOM树，解析CSS，生成CSSOM树")]),t._v(" "),n("li",[t._v("将DOM树和CSSOM树结合，生成渲染树(Render Tree)")]),t._v(" "),n("li",[t._v("Layout(回流):根据生成的渲染树，进行回流(Layout)，得到节点的几何信息（位置，大小）")]),t._v(" "),n("li",[t._v("Painting(重绘):根据渲染树以及回流得到的几何信息，得到节点的绝对像素")]),t._v(" "),n("li",[t._v("Display:将像素发送给GPU，展示在页面上。（这一步其实还有很多内容，比如会在GPU将多个合成层合并为同一个层，并展示在页面中。而css3硬件加速的原理则是新建合成层，这里我们不展开，之后有机会会写一篇博客）")])]),t._v(" "),n("p",[t._v("渲染过程看起来很简单，让我们来具体了解下每一步具体做了什么。")]),t._v(" "),n("h3",{attrs:{id:"生成渲染树"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#生成渲染树"}},[t._v("#")]),t._v(" 生成渲染树")]),t._v(" "),n("p",[n("img",{attrs:{src:s(404),alt:"生成渲染树"}})]),t._v(" "),n("p",[t._v("为了构建渲染树，浏览器主要完成了以下工作：")]),t._v(" "),n("ol",[n("li",[t._v("从DOM树的根节点开始遍历每个可见节点。")]),t._v(" "),n("li",[t._v("对于每个可见的节点，找到CSSOM树中对应的规则，并应用它们。")]),t._v(" "),n("li",[t._v("根据每个可见节点以及其对应的样式，组合生成渲染树。")])]),t._v(" "),n("p",[t._v("第一步中，既然说到了要遍历可见的节点，那么我们得先知道，什么节点是不可见的。不可见的节点包括：")]),t._v(" "),n("ul",[n("li",[t._v("一些不会渲染输出的节点，比如script、meta、link等。")]),t._v(" "),n("li",[t._v("一些通过css进行隐藏的节点。比如display:none。注意，利用visibility和opacity隐藏的节点，还是会显示在渲染树上的。只有display:none的节点才不会显示在渲染树上。")])]),t._v(" "),n("p",[n("strong",[t._v("注意：渲染树只包含可见的节点")])]),t._v(" "),n("h3",{attrs:{id:"回流"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#回流"}},[t._v("#")]),t._v(" 回流")]),t._v(" "),n("p",[t._v("前面我们通过构造渲染树，我们将可见DOM节点以及它对应的样式结合起来，可是我们还需要计算它们在设备视口(viewport)内的确切位置和大小，这个计算的阶段就是回流。")]),t._v(" "),n("p",[t._v("为了弄清每个对象在网站上的确切大小和位置，浏览器从渲染树的根节点开始遍历，我们可以以下面这个实例来表示：")]),t._v(" "),n("div",{staticClass:"language-html extra-class"},[n("pre",{pre:!0,attrs:{class:"language-html"}},[n("code",[n("span",{pre:!0,attrs:{class:"token doctype"}},[t._v("<!DOCTYPE html>")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("html")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("head")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("meta")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("viewport"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("content")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("width=device-width,initial-scale=1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("title")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("Critial Path: Hello world!"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("title")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("head")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("body")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),n("span",{pre:!0,attrs:{class:"token style-attr language-css"}},[n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("style")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('="')]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token property"}},[t._v("width")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 50%")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),n("span",{pre:!0,attrs:{class:"token style-attr language-css"}},[n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("style")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('="')]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token property"}},[t._v("width")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 50%")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("Hello world!"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("body")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("html")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),n("p",[t._v("我们可以看到，第一个div将节点的显示尺寸设置为视口宽度的50%，第二个div将其尺寸设置为父节点的50%。而在回流这个阶段，我们就需要根据视口具体的宽度，将其转为实际的像素值。（如下图）\n"),n("img",{attrs:{src:s(405),alt:"渲染章节的viewport"}})]),t._v(" "),n("h3",{attrs:{id:"重绘"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#重绘"}},[t._v("#")]),t._v(" 重绘")]),t._v(" "),n("p",[t._v("最终，我们通过构造渲染树和回流阶段，我们知道了哪些节点是可见的，以及可见节点的样式和具体的几何信息(位置、大小)，那么我们就可以将渲染树的每个节点都转换为屏幕上的实际像素，这个阶段就叫做重绘节点。")]),t._v(" "),n("p",[t._v("既然知道了浏览器的渲染过程后，我们就来探讨下，何时会发生回流重绘。")]),t._v(" "),n("h2",{attrs:{id:"何时发生回流重绘"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#何时发生回流重绘"}},[t._v("#")]),t._v(" 何时发生回流重绘")]),t._v(" "),n("p",[t._v("我们前面知道了，回流这一阶段主要是计算节点的位置和几何信息，那么当页面布局和几何信息发生变化的时候，就需要回流。比如以下情况：")]),t._v(" "),n("ul",[n("li",[t._v("添加或删除可见的DOM元素")]),t._v(" "),n("li",[t._v("元素的位置发生变化")]),t._v(" "),n("li",[t._v("元素的尺寸发生变化（包括外边距、内边框、边框大小、高度和宽度等）")]),t._v(" "),n("li",[t._v("内容发生变化，比如文本变化或图片被另一个不同尺寸的图片所替代。")]),t._v(" "),n("li",[t._v("页面一开始渲染的时候（这肯定避免不了）")]),t._v(" "),n("li",[t._v("浏览器的窗口尺寸变化（因为回流是根据视口的大小来计算元素的位置和大小的）")])]),t._v(" "),n("p",[n("strong",[t._v("注意：回流一定会触发重绘，而重绘不一定会回流")])]),t._v(" "),n("p",[t._v("根据改变的范围和程度，渲染树中或大或小的部分需要重新计算，有些改变会触发整个页面的重排，比如，滚动条出现的时候或者修改了根节点。")]),t._v(" "),n("h2",{attrs:{id:"浏览器的优化机制"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#浏览器的优化机制"}},[t._v("#")]),t._v(" 浏览器的优化机制")]),t._v(" "),n("p",[t._v("现代的浏览器都是很聪明的，由于每次重排都会造成额外的计算消耗，因此大多数浏览器都会通过队列化修改并批量执行来优化重排过程。浏览器会将修改操作放入到队列里，直到过了一段时间或者操作达到了一个阈值，才清空队列。但是！"),n("strong",[t._v("当你获取布局信息的操作的时候，会强制队列刷新")]),t._v("，比如当你访问以下属性或者使用以下方法：")]),t._v(" "),n("ul",[n("li",[t._v("offsetTop、offsetLeft、offsetWidth、offsetHeight")]),t._v(" "),n("li",[t._v("scrollTop、scrollLeft、scrollWidth、scrollHeight")]),t._v(" "),n("li",[t._v("clientTop、clientLeft、clientWidth、clientHeight")]),t._v(" "),n("li",[t._v("getComputedStyle()")]),t._v(" "),n("li",[t._v("getBoundingClientRect")]),t._v(" "),n("li",[t._v("具体可以访问这个网站："),n("a",{attrs:{href:"https://gist.github.com/paulirish/5d52fb081b3570c81e3a",target:"_blank",rel:"noopener noreferrer"}},[t._v("gist.github.com/paulirish/5…"),n("OutboundLink")],1)])]),t._v(" "),n("p",[t._v("以上属性和方法都需要返回最新的布局信息，因此浏览器不得不清空队列，触发回流重绘来返回正确的值。因此，我们在修改样式的时候，**最好避免使用上面列出的属性，他们都会刷新渲染队列。**如果要使用它们，最好将值缓存起来。")]),t._v(" "),n("h2",{attrs:{id:"减少回流和重绘"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#减少回流和重绘"}},[t._v("#")]),t._v(" 减少回流和重绘")]),t._v(" "),n("p",[t._v("好了，到了我们今天的重头戏，前面说了这么多背景和理论知识，接下来让我们谈谈如何减少回流和重绘。")]),t._v(" "),n("h3",{attrs:{id:"最小化重绘和重排"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#最小化重绘和重排"}},[t._v("#")]),t._v(" 最小化重绘和重排")]),t._v(" "),n("p",[t._v("由于重绘和重排可能代价比较昂贵，因此最好就是可以减少它的发生次数。为了减少发生次数，我们可以合并多次对DOM和样式的修改，然后一次处理掉。考虑这个例子")]),t._v(" "),n("div",{staticClass:"language-javascript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" el "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementById")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'test'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nel"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("style"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("padding "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'5px'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nel"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("style"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("borderLeft "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'1px'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nel"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("style"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("borderRight "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'2px'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("p",[t._v("例子中，有三个样式属性被修改了，每一个都会影响元素的几何结构，引起回流。当然，大部分现代浏览器都对其做了优化，因此，只会触发一次重排。但是如果在旧版的浏览器或者在上面代码执行的时候，有其他代码访问了布局信息(上文中的会触发回流的布局信息)，那么就会导致三次重排。")]),t._v(" "),n("p",[t._v("因此，我们可以合并所有的改变然后依次处理，比如我们可以采取以下的方式：")]),t._v(" "),n("ul",[n("li",[t._v("使用cssText")])]),t._v(" "),n("div",{staticClass:"language-javascript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" el "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementById")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'test'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nel"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("style"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cssText "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'border-left: 1px; border-right: 2px; padding: 5px;'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("ul",[n("li",[t._v("修改CSS的class")])]),t._v(" "),n("div",{staticClass:"language-javascript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" el "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementById")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'test'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nel"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("className "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("' active'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("h3",{attrs:{id:"批量修改dom"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#批量修改dom"}},[t._v("#")]),t._v(" 批量修改DOM")]),t._v(" "),n("p",[t._v("当我们需要对DOM对一系列修改的时候，可以通过以下步骤减少回流重绘次数：")]),t._v(" "),n("ol",[n("li",[t._v("使元素脱离文档流")]),t._v(" "),n("li",[t._v("对其进行多次修改")]),t._v(" "),n("li",[t._v("将元素带回到文档中。")])]),t._v(" "),n("p",[t._v("该过程的第一步和第三步可能会引起回流，但是经过第一步之后，对DOM的所有修改都不会引起回流，因为它已经不在渲染树了。")]),t._v(" "),n("p",[t._v("有三种方式可以让DOM脱离文档流：")]),t._v(" "),n("ul",[n("li",[t._v("隐藏元素，应用修改，重新显示")]),t._v(" "),n("li",[t._v("使用文档片段(document fragment)在当前DOM之外构建一个子树，再把它拷贝回文档。")]),t._v(" "),n("li",[t._v("将原始元素拷贝到一个脱离文档的节点中，修改节点后，再替换原始的元素。")])]),t._v(" "),n("p",[t._v("考虑我们要执行一段批量插入节点的代码：")]),t._v(" "),n("div",{staticClass:"language-javascript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("appendDataToElement")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("appendToElement"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" data")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" li"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" i "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" data"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    \tli "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("createElement")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'li'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        li"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("textContent "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'text'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        appendToElement"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("appendChild")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("li"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" ul "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementById")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'list'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("appendDataToElement")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ul"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" data"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("p",[t._v("如果我们直接这样执行的话，由于每次循环都会插入一个新的节点，会导致浏览器回流一次。")]),t._v(" "),n("p",[t._v("我们可以使用这三种方式进行优化:")]),t._v(" "),n("p",[n("strong",[t._v("隐藏元素，应用修改，重新显示")])]),t._v(" "),n("p",[t._v("这个会在展示和隐藏节点的时候，产生两次重绘")]),t._v(" "),n("div",{staticClass:"language-javascript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("appendDataToElement")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("appendToElement"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" data")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" li"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" i "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" data"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    \tli "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("createElement")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'li'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        li"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("textContent "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'text'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        appendToElement"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("appendChild")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("li"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" ul "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementById")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'list'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nul"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("style"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("display "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'none'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("appendDataToElement")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ul"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" data"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nul"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("style"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("display "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'block'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("p",[n("strong",[t._v("使用文档片段(document fragment)在当前DOM之外构建一个子树，再把它拷贝回文档")])]),t._v(" "),n("div",{staticClass:"language-javascript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" ul "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementById")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'list'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" fragment "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("createDocumentFragment")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("appendDataToElement")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("fragment"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" data"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nul"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("appendChild")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("fragment"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("p",[n("strong",[t._v("将原始元素拷贝到一个脱离文档的节点中，修改节点后，再替换原始的元素。")])]),t._v(" "),n("div",{staticClass:"language-javascript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" ul "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementById")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'list'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" clone "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ul"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("cloneNode")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("appendDataToElement")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("clone"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" data"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nul"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("parentNode"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("replaceChild")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("clone"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ul"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("p",[t._v("对于上述那种情况，我写了一个"),n("a",{attrs:{href:"https://chenjigeng.github.io/example/share/%E9%81%BF%E5%85%8D%E5%9B%9E%E6%B5%81%E9%87%8D%E7%BB%98/%E6%89%B9%E9%87%8F%E4%BF%AE%E6%94%B9DOM.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("demo"),n("OutboundLink")],1),t._v("来测试修改前和修改后的性能。然而实验结果不是很理想。")]),t._v(" "),n("p",[n("strong",[t._v("原因：原因其实上面也说过了，浏览器会使用队列来储存多次修改，进行优化，所以对这个优化方案，我们其实不用优先考虑。")])]),t._v(" "),n("h3",{attrs:{id:"避免触发同步布局事件"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#避免触发同步布局事件"}},[t._v("#")]),t._v(" 避免触发同步布局事件")]),t._v(" "),n("p",[t._v("上文我们说过，当我们访问元素的一些属性的时候，会导致浏览器强制清空队列，进行强制同步布局。举个例子，比如说我们想将一个p标签数组的宽度赋值为一个元素的宽度，我们可能写出这样的代码：")]),t._v(" "),n("div",{staticClass:"language-javascript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("initP")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" i "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" paragraphs"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        paragraphs"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("style"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("width "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" box"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("offsetWidth "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'px'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("这段代码看上去是没有什么问题，可是其实会造成很大的性能问题。在每次循环的时候，都读取了box的一个offsetWidth属性值，然后利用它来更新p标签的width属性。这就导致了每一次循环的时候，浏览器都必须先使上一次循环中的样式更新操作生效，才能响应本次循环的样式读取操作。每一次循环都会强制浏览器刷新队列。我们可以优化为:")]),t._v(" "),n("div",{staticClass:"language-javascript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" width "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" box"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("offsetWidth"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("initP")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" i "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" paragraphs"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        paragraphs"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("style"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("width "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" width "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'px'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("同样，我也写了个"),n("a",{attrs:{href:"https://chenjigeng.github.io/example/share/%E9%81%BF%E5%85%8D%E5%9B%9E%E6%B5%81%E9%87%8D%E7%BB%98/%E9%81%BF%E5%85%8D%E5%BF%AB%E9%80%9F%E8%BF%9E%E7%BB%AD%E7%9A%84%E5%B8%83%E5%B1%80.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("demo"),n("OutboundLink")],1),t._v("来比较两者的性能差异。你可以自己点开这个demo体验下。这个对比差距就比较明显。")]),t._v(" "),n("h3",{attrs:{id:"对于复杂动画效果-使用绝对定位让其脱离文档流"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#对于复杂动画效果-使用绝对定位让其脱离文档流"}},[t._v("#")]),t._v(" 对于复杂动画效果,使用绝对定位让其脱离文档流")]),t._v(" "),n("p",[t._v("对于复杂动画效果，由于会经常的引起回流重绘，因此，我们可以使用绝对定位，让它脱离文档流。否则会引起父元素以及后续元素频繁的回流。这个我们就直接上个"),n("a",{attrs:{href:"https://chenjigeng.github.io/example/share/%E9%81%BF%E5%85%8D%E5%9B%9E%E6%B5%81%E9%87%8D%E7%BB%98/%E5%B0%86%E5%A4%8D%E6%9D%82%E5%8A%A8%E7%94%BB%E6%B5%AE%E5%8A%A8%E5%8C%96.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("例子"),n("OutboundLink")],1),t._v("。")]),t._v(" "),n("p",[t._v("打开这个例子后，我们可以打开控制台，控制台上会输出当前的帧数(虽然不准)。\n"),n("img",{attrs:{src:s(406),alt:""}}),t._v("\n从上图中，我们可以看到，帧数一直都没到60。这个时候，只要我们点击一下那个按钮，把这个元素设置为绝对定位，帧数就可以稳定60。")]),t._v(" "),n("h3",{attrs:{id:"css3硬件加速（gpu加速）"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#css3硬件加速（gpu加速）"}},[t._v("#")]),t._v(" css3硬件加速（GPU加速）")]),t._v(" "),n("p",[t._v("比起考虑如何减少回流重绘，我们更期望的是，根本不要回流重绘。这个时候，css3硬件加速就闪亮登场啦！！")]),t._v(" "),n("p",[n("strong",[t._v("划重点：使用css3硬件加速，可以让transform、opacity、filters这些动画不会引起回流重绘 。但是对于动画的其它属性，比如background-color这些，还是会引起回流重绘的，不过它还是可以提升这些动画的性能。")])]),t._v(" "),n("p",[t._v("本篇文章只讨论如何使用，暂不考虑其原理，之后有空会另外开篇文章说明。")]),t._v(" "),n("h4",{attrs:{id:"如何使用"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#如何使用"}},[t._v("#")]),t._v(" 如何使用")]),t._v(" "),n("p",[t._v("常见的触发硬件加速的css属性：")]),t._v(" "),n("ul",[n("li",[t._v("transform")]),t._v(" "),n("li",[t._v("opacity")]),t._v(" "),n("li",[t._v("filters")]),t._v(" "),n("li",[t._v("Will-change")])]),t._v(" "),n("h4",{attrs:{id:"效果"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#效果"}},[t._v("#")]),t._v(" 效果")]),t._v(" "),n("p",[t._v("我们可以先看个"),n("a",{attrs:{href:"https://chenjigeng.github.io/example/share/%E5%AF%B9%E6%AF%94gpu%E5%8A%A0%E9%80%9F/gpu%E5%8A%A0%E9%80%9F-transform.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("例子"),n("OutboundLink")],1),t._v("。我通过使用chrome的Performance捕获了一段时间的回流重绘情况，实际结果如下图：")]),t._v(" "),n("p",[n("img",{attrs:{src:s(407),alt:""}})]),t._v(" "),n("p",[t._v("从图中我们可以看出，在动画进行的时候，没有发生任何的回流重绘。如果感兴趣你也可以自己做下实验。")]),t._v(" "),n("h4",{attrs:{id:"重点"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#重点"}},[t._v("#")]),t._v(" 重点")]),t._v(" "),n("ul",[n("li",[t._v("使用css3硬件加速，可以让transform、opacity、filters这些动画不会引起回流重绘")]),t._v(" "),n("li",[t._v("对于动画的其它属性，比如background-color这些，还是会引起回流重绘的，不过它还是可以提升这些动画的性能。")])]),t._v(" "),n("h4",{attrs:{id:"css3硬件加速的坑"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#css3硬件加速的坑"}},[t._v("#")]),t._v(" css3硬件加速的坑")]),t._v(" "),n("ul",[n("li",[t._v("如果你为太多元素使用css3硬件加速，会导致内存占用较大，会有性能问题。")]),t._v(" "),n("li",[t._v("在GPU渲染字体会导致抗锯齿无效。这是因为GPU和CPU的算法不同。因此如果你不在动画结束的时候关闭硬件加速，会产生字体模糊。")])]),t._v(" "),n("h2",{attrs:{id:"总结"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#总结"}},[t._v("#")]),t._v(" 总结")]),t._v(" "),n("p",[t._v("本文主要讲了浏览器的渲染过程、浏览器的优化机制以及如何减少甚至避免回流和重绘，希望可以帮助大家更好的理解回流重绘。")]),t._v(" "),n("h2",{attrs:{id:"参考文献"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#参考文献"}},[t._v("#")]),t._v(" 参考文献")]),t._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"https://developers.google.com/web/fundamentals/performance/critical-rendering-path/render-tree-construction?hl=zh-cn",target:"_blank",rel:"noopener noreferrer"}},[t._v("渲染树构建、布局及绘制"),n("OutboundLink")],1)]),t._v(" "),n("li",[t._v("高性能Javascript")])]),t._v(" "),n("br"),t._v(" "),n("Vssue")],1)}),[],!1,null,null,null);a.default=e.exports}}]);